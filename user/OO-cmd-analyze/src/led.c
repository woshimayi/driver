/******************************************************************************
* 文件名称： led.c
* 摘 要：    LED 灯相关操作定义文件
*
* 硬件连接： LED1 --> P2.0
*
* 当前版本： 1.0
* 作 者：    邵国际
* 完成日期： 2017年11月18日
*
* 取代版本： 
* 原作者 ： 
* 完成日期： 
******************************************************************************/
#include "led.h"
#include "cmd.h"
#include "array.h"

/******************************************************************************
* 函数介绍： 点亮 LED 函数
* 输入参数： 无
* 输出参数： 无
* 返回值 ：  无
* 备    注： 无 
******************************************************************************/
static void led_on(void)
{
	LED1 = 0;
}

/******************************************************************************
* 函数介绍： 熄灭 LED 函数
* 输入参数： 无
* 输出参数： 无
* 返回值 ：  无
* 备    注： 无 
******************************************************************************/
static void led_off(void)
{
	LED1 = 1;
}

/******************************************************************************
* 函数介绍： 翻转 LED 函数
* 输入参数： 无
* 输出参数： 无
* 返回值 ：  无
* 备    注： 无 
******************************************************************************/
static void led_toggle(void)  // 增加 LED 翻转函数
{
	LED1 = ~LED1;
}

/******************************************************************************
* 函数介绍： LED 初始化函数
* 输入参数： 无
* 输出参数： 无
* 返回值 ：  无
* 备    注： 注册命令、初始化硬件 
******************************************************************************/
void led_init(void)
{
	/* 填充命令结构体数组 */
	CMD led_cmds[] = {
	 	{"led on", led_on},
		{"led off", led_off},
		{"led toggle", led_toggle}  // 增加 LED 翻转命令
	};

	/* 注册命令 */
	register_cmds(led_cmds, ARRAY_SIZE(led_cmds));	

	/* 初始化硬件 */
	led_off();
}

/********************************END OF FILE**********************************/
